# Outlook邮件API服务 - Docker环境变量配置示例
# 复制此文件为 .env 并根据需要修改配置

# =============================================================================
# 服务配置
# =============================================================================

# 服务监听地址（默认: 0.0.0.0）
HOST=0.0.0.0

# 服务监听端口（默认: 8000）
PORT=8000

# 工作进程数（默认: 1，建议设置为CPU核心数）
WORKERS=1

# =============================================================================
# Python运行时配置
# =============================================================================

# 禁用Python字节码文件生成（默认: 1）
PYTHONDONTWRITEBYTECODE=1

# 强制Python输出不缓冲（默认: 1）
PYTHONUNBUFFERED=1

# =============================================================================
# 应用配置
# =============================================================================

# 日志级别（可选: DEBUG, INFO, WARNING, ERROR）
LOG_LEVEL=INFO

# 是否启用调试模式（默认: false）
DEBUG=false

# =============================================================================
# PostgreSQL 配置（必填）
# =============================================================================

# PostgreSQL数据库名
POSTGRES_DB=outlook_manager

# PostgreSQL用户名
POSTGRES_USER=outlook

# PostgreSQL密码
POSTGRES_PASSWORD=outlook

# 应用连接数据库URL（容器内建议保持默认主机名 postgres）
DATABASE_URL=postgresql://outlook:outlook@postgres:5432/outlook_manager

# =============================================================================
# Redis 缓存配置
# =============================================================================

# Redis连接URL
REDIS_URL=redis://redis:6379/0

# Redis缓存键前缀
REDIS_KEY_PREFIX=outlook-manager

# Redis超时秒数
REDIS_SOCKET_TIMEOUT_SECONDS=3

# =============================================================================
# 令牌缓存配置（可选）
# =============================================================================

# AT后台刷新阈值（秒）
ACCESS_TOKEN_BACKGROUND_REFRESH_SECONDS=300

# AT强制刷新阈值（秒）
ACCESS_TOKEN_FORCE_REFRESH_SECONDS=30

# =============================================================================
# IMAP配置（已内置，通常无需修改）
# =============================================================================

# Outlook IMAP服务器（默认: outlook.live.com）
# IMAP_SERVER=outlook.live.com

# IMAP端口（默认: 993）
# IMAP_PORT=993

# =============================================================================
# 使用说明
# =============================================================================

# 1. 复制此文件：cp docker.env.example .env
# 2. 根据需要修改配置值
# 3. 将该文件重命名为 .env，docker compose 会自动读取
# 4. 启动/重启服务：docker compose up -d --build
